bootstrap: 1
table: contratdet

parent_id_property: fk_contrat
parent_object: BContract_contrat

dol_object: 
    instance: 
        dol_object: 
            module: contrat
            file: contrat
            class: ContratLigne

primary: rowid

labels: 
    name: ligne du contrat
    name_plur: lignes du contrat
    is_female: 1

objects:
    produit:
        instance: 
            bimp_object:
                module: bimpcore
                name: Bimp_Product
            id_object:
                field_value:
                    fk_product

fields:
    fk_product:
        label: produit
        type: id_object
        object: produit
        required: 1
        input: 
            type: search_product
            #societe_type: customer
            help: Entrez le nom ou la référence d'un produit pour effectuer une recherche
            card: default
        search:
            input: 
                type: search_product
                societe_type: customer    
        create_form: light
#    fk_product:
#        label: Produit
#        type: id_object
#        object: produit
    qty:
        label: Qté
        type: qty
        default_value: 1
    price_ht:
        label: P.U HT
        type: money
    tva_tx: 
        label: Taux de TVA
        type: percent
        default_value: 20
    total_ttc: 
        label: Total TTC
        type: money
    remise_percent:
        label: Remise
        type: percent
    remise:
        label: Total remise
        type: money

lists: 
    default: 
        title: Lignes du contrat
        icon: fas_file-contract
        sort_field: tms
        sort_way: desc
        n: 20
        checkbox: 1
        add_object_row: 0
        update_btn: 1
        edit_btn: 0
        edit_form: default
        add_form_name: add
        delete_btn: 1
        page_btn: 1
        cols: 
            fk_product:
                field: fk_product
            qty:
                field: qty
            tva_tx:
                field: tva_tx
            remise_percent:
                field: remise_percent
            remise:
                field: remise
            price_ht:
                field: price_ht
            total_ttc:
                field: total_ttc

forms:
    add:
        rows:
            - field: fk_product
            - field: qty
              