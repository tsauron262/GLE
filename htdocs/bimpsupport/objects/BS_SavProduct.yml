table: bs_sav_product
common_fields: 0

parent_object: BS_SAV
parent_id_property: id_sav

labels: 
    name: produit / service
    name_plur: produits / services
    
objects: 
    product: 
        relation: hasOne
        delete: 0
        instance: 
            bimp_object: 
                module: bimpcore
                name: Bimp_Product
            id_object: 
                field_value: id_product
fields: 
    id_sav: 
        label: SAV
        type: id_parent
    id_product: 
        label: Référence
        type: id_object
        object: product
        input: 
            type: search_product
            filter_type: both
        required: 1
    qty: 
        label: Quantité
        type: int
        unsigned: 1
        min: 1
        default_value: 1
    out_of_warranty:
        label: Hors garantie
        type: bool
        default_value: 0
        
lists: 
    default: 
        title: Produits / Services
        icon: bars
        checkboxes: 1
        bulk_actions:
            - label: Retirer les produits / services sélectionnés
              icon: trash
              onclick: deleteSelectedObjects('list_id', $(this))
        enable_search: 0
        sort_field: id
        sort_way: desc
        n: 25
        delete_btn: 1
        update_btn: 1
        add_form_name: default
        cols: 
            product: 
                field: id_product
                display: nom_url
            desc: 
                label: Désignation
                value: 
                    callback: displayProduct
            unit_price: 
                label: PU TTC
                value: 
                    callback: displayUnitPrice
            qty: 
                field: qty
                edit: 1
            price: 
                label: Total TTC
                value: 
                    callback: displayTotal
            
            out_of_warranty: 
                field: out_of_warranty
                edit: 1
            