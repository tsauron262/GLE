table: bmp_type_montant
common_fields: 0

labels:
    name: type de montants
    name_plur: types de montants
    
objects:
    category:
        relation: hasOne
        delete: 0
        instance: 
            bimp_object: BMP_CategorieMontant
            
fields: 
    name: 
        label: Nom
        type: string
        required: 1
        
    id_category:
        label: Catégorie
        type: id_object
        object: category
        values: 
            array: categories
        display: 
            default: 
                type: nom
        required: 1
        
    type: 
        label: Type
        type: int
        required: 1
        values: 
            array: types
        display: 
            icon:
                icon_only: 1
        
    id_taxe:
        label: TVA
        type: int
        values: 
            callback:
                method: getTaxes
                class_name: BimpTools
                params: 
                    array:
                        id_country: 1
                is_static: 1
        default_value: 
            callback: getTaxeIdDefault
        
    code_compta:
        label: code comptable
        type: string
            
    required: 
        label: Par défaut
        type: bool
        default_value: 0
        
#    editable: 
#        label: Editable
#        type: bool
#        default_value: 1
        
    has_details:
        label: Détails
        type: bool
        default_value: 0
        
    coprod:
        label: Co-producteurs
        type: bool
        default_value: 1
                
list:
    checkboxes: 1
    bulk_actions:
        - label: supprimer les type de montant sélectionnés
          icon: fas_trash-alt
          onclick: deleteSelectedObjects('list_id', $(this))
    sort_field: id_category
    sort_way: desc
    n: 25
    add_form_name: default
    update_btn: 1
    delete_btn: 1
    cols: 
        name: 
            field: name
            edit: 1
        category:
            field: id_category
            edit: 1
        type: 
            field: type
            edit: 1
        tva: 
            field: id_taxe
            edit: 1
        code: 
            field: code_compta
            edit: 1
        required: 
            field: required
            edit: 1
#        editable: 
#            field: editable
#            edit: 1
        details: 
            field: has_details
            edit: 1
        coprod:
            field: coprod
            edit: 1