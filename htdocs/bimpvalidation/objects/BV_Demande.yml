table: bv_demande
icon: far_check-circle
common_fields: 1

labels: 
    name: demande de validation
    name_plur: demandes de validations
    is_female: 1
    
objects:
    user_author: 
        extends: user
        instance: 
            id_object: 
                field_value: id_user_author
                
    user_affected: 
        extends: user
        instance: 
            id_object: 
                field_value: id_user_affected
                
    user_validate:
        extends: user
        instance: 
            id_object: 
                field_value: id_user_validate
                
fields: 
    status: 
        label: Status
        type: int
        values: status_list
        default_value: 0
        
    type_validation: 
        label: Type de validation
        values: 
            array: typesValidations
        required: 1
            
    type_object: 
        label: Type objet
        values: 
            array: typesObjects
        required: 1
    
    id_object: 
        label: ID objet
        type: id
        required: 1
        
    id_user_demande: 
        label: Demandée par
        type: id_object
        object: user_author
        default_value: 0
        
    validation_users: 
        label: Utilisateurs
        type: items_list
        items_data_type: id_object
        object: user
        items_sortable: 1
        items_braces: 1
        
    id_user_affected: 
        label: Demande affectée à
        type: id_object
        object: user_affected
        default_value: 0
        
    id_user_validate: 
        label: Validée / refusée par
        type: id_object
        object: user_validate
        default_value: 0
        
    date_validate: 
        label: Date validation / refus
        type: datetime
        
    comment: 
        label: Commentaire
        type: text
        
filters_panels: 
    default: 
        filters: 
            type_validation: 
            type_object: 
            status: 
            id_user_demande:
                
lists_cols: 
    obj: 
        label: Pièce
        value: 
            callback: displayObj
            
lists: 
    default: 
        title: Demandes de validation
        configurable: 1
        checkboxes: 1
        bulk_actions:
            - label: supprimer les règles sélectionnées
              icon: fas_trash-alt
              onclick: deleteSelectedObjects('list_id', $(this))
        filters_panel: default
        sort_field: date_create
        sort_way: desc
        n: 10
        add_form_name: default
        edit_btn: 1
        delete_btn: 1
        modal_view: default
        cols: 
            type_validation: 
            obj: 
            status: 
            id_user_demande: 
            validation_users: 
            id_user_validate: 
            date_validate:
                
    obj: 
        extends: default
        cols: 
            obj: unset
        
