table: bimpcore_dictionnary
#controller: dictionnary
icon: fas_book

common_fields: 0

header_list_name: default
header_edit_form: default
header_btn:
    callback: getActionsButtons

labels:
    name: dictionnaire

objects:
    values:
        relation: hasMany
        delete: 1
        instance:
            bimp_object:
                module: bimpcore
                name: BimpDictionnaryValue

fields:
    code:
        label: Code
    
    name:
        label: Nom
    
    values_params:
        label: Paramètres des valeurs
        type: json
    
    active:
        label: Actif
        type: bool
        default_value: 1

forms:
    edit:
        rows:
            -   field: name
            -   field: active
    
    convert_values:
        rows:
            -   custom: 1
                label: Objet
                input_name: obj
                required: 1
                input:
                    type: select
                    options:
                        array: BimpObjects
            -   custom: 1
                label: Champ
                input_name: field_name
                required: 1
                input:
                    type: select
                    options:
                        callback: getObjFieldsToConvertArray
                depends_on: obj
            -   custom: 1
                label: Code dictionnaire
                data_type: string
                input_name: code_dict
                input: 
                    type: text
                required: 1
            -   custom: 1
                label: Nom dictionnaire
                data_type: string
                input_name: name_dict
                input:
                    type: text
                required: 1





lists:
    default:
        title: Dictionnaires
        bulk_actions:
            -   label: Supprimer les dictionnaires sélectionnés
                icon: fas_trash-alt
                onclick: deleteSelectedObjects('list_id', $(this))
        sort_field: id
        sort_way: desc
        n: 0
        edit_btn: 1
        edit_form: edit
        delete_btn: 1
        header_buttons: 
            callback: getListHeaderButtons
        extra_btn:
            callback: getListsButtons
        cols:
            code:
            name:
            active:
                edit: 1
                
