extends: 
    module: bimpcore
    object_name: Bimp_Right
    
table: user_rights
icon: fas_user-check

labels: 
    name: droit utilisateur
    name_plur: droits utilisateurs
    
objects: 
    user: 
        instance: 
            id_object: 
                field_value: fk_user
                    
fields: 
    fk_user: 
        label: Utilisateur
        type: id_object
        object: user
        input: 
            type: search_user
                
    fk_id: 
        label: Droit
        type: int
        values:
            callback: getRightsDefArray
            
    entity: 
        label: Entité
        type: int
        values: 
            callback: getEntitiesCacheArray
        default_value: 1
        
forms: 
    default: 
        rows: 
            - field: fk_user
            - field: entity
              required: 1
              show: 
                  is_module_active: MULTICOMPANY
            - custom: 1
              label: Module
              input_name: right_module
              input: 
                  type: select
                  options: 
                      callback: getRightsDefModulesArray
            - custom: 1
              label: Droit
              input_name: fk_id
              data_type: id
              input: 
                  type: select
                  options: 
                      callback: 
                          method: getRightsDefArrayFormModule
                          params: 
                              - request_field: right_module
              depends_on: right_module
              display_if: 
                  field_name: right_module
                  hide_values: ''              
                  
filters_panels: 
    default: 
        filters: 
            entity: 
                show: 
                    is_module_active: MULTICOMPANY
            fk_user: 
            fk_id: 
            right_module: 
                    
lists: 
    default:
        title: Droits utilisateurs
        icon: fas_user-check
        bulk_actions:
            - label: supprimer les droits sélectionnés
              icon: fas_trash-alt
              onclick: deleteSelectedObjects('list_id', $(this))
        cols: 
            fk_user:
            right_module:
            libelle: 
            code:
            entity: 
                show: 
                  is_module_active: MULTICOMPANY
            
    user: 
        extends: default
        cols: 
            fk_user: unset