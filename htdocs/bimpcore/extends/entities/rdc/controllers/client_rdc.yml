bootstrap: 1

title:
    callback:
        object: client
        method: getPageTitle

objects:
    client:
        instance:
            bimp_object: Bimp_Client
            id_object:
                request: id
        
sections:
    - type: object_header
      object_header:
          object: client
    - type: nav_tabs
      nav_tabs:
          - id: card
            title: Fiche
            icon: fas_info-circle
            struct:
                type: view
                view:
                    object: client
                    name: default
          - id: ca
            title: CA
            ajax_render_method:
                object: client
                method: renderView
                params:
                    - ca
            icon: fas_chart-bar
#            struct:
#                type: view
#                view:
#                    object: client
#                    name: ca
          - id: contact
            title: Contacts
            icon: fas_address-book
            struct:
                type: list
                list:
                    object: client
                    children: contacts
                    name: soc
                    
          - id: actioncomm
            title: Événements
            icon: fas_calendar-check
            struct:
                type: custom
                custom:
                    callback:
                        method: renderPageView
                        object: client

          - id: tickets
            title: Tickets
            icon: fas_ticket-alt
            ajax_render_method:
                object: client
                method: renderLinkedObjectList
                params:
                    - bimp_tickets
                        
          - id: all_files
            title: Fichiers
            icon: fas_folder-open
            struct:
                type: list
                list:
                    title: Fichier joints
                    object: client
                    children: files
                    name: default
          -   id: notes
              title: Notes
              struct:
                  type: notes
                  notes:
                      object: client
                      visibility: 4

          - id: divers
            title: Divers (admin)
            icon: fas_tools
            show:
                callback:
                    method: iAmAdmin
                    object: client
            struct:
                type: custom
                custom:
                    callback:
                        method: renderBimpOjectDivers
                        object: client
