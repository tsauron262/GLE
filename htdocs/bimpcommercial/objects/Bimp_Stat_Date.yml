table: bimp_stat_date
primary: id

labels: 
    name: Stats
    is_female: 1
    
has_graph: 1
                
fields: 
    date:
        label: Date
        type: date
    devis_qty:
        label: Nb Devis
        type: int
    devis_total:
        label: Total Devis
        type: money
    commande_qty:
        label: Nb Commande
        type: int
    commande_total:
        label: Total Commande
        type: money
    facture_qty:
        label: Nb Facture
        type: int
    facture_total:
        label: Total Facture
        type: money
    filter:
        label: Filtre JSON
        type: text
       
forms: 
    monthy_report: 
        rows: 
            - custom: 1
              label: Mois
              input_name: month
              input: 
                  type: select
                  options: 
                      array: 
                          1: Janvier
                          2: Février 
                          3: Mars
                          4: Avril
                          5: Mai
                          6: Juin
                          7: Juillet
                          8: Août 
                          9: Septembre
                          10: Octobre
                          11: Novembre
                          12: Décembre
                          
            - custom: 1
              label: Année
              input_name: Year
              input: 
                  type: select
                  options: 
                      array: reportYears
        
filters: 
    ec_fk_socpeople:
        label: Commecial
        data_type: id_object
        type: user
#        input: 
#            type: search_user
#            include_empty: 1
#            empty_label: Aucun
    ef_type: 
        label: Secteur (Canal de Vente)
        type: value
        input:
            type: select
            options: 
                array: secteurs
    facture_type: 
        label: Type de facture
        type: value
        input:
            type: select
            options: 
                array: factTypes
    fk_soc: 
        label: Client
#        data_type: id_object
        type: value
        input: 
            type: search_societe
#            include_empty: 1
#            empty_label: Aucun
                
                
            
filters_panels: 
    default: 
        filters: 
            date:
            ec_fk_socpeople:
            devis_qty: 
            devis_total:
            commande_qty: 
            commande_total:
            facture_qty: 
            facture_total: 
            fk_soc:
    
lists: 
    default: 
        title: Stats par Date
        total_row: 1
        configurable: 1
        n: 10
        sort_field: date
        sort_way: desc
        filters_panel: default
        header_buttons:
            callback: getListHeaderButtons
        cols: 
            dateCust: 
                label: Date
                value: 
                    callback: displayDate
            devis_qty: 
            devis_total:
            commande_qty:
            commande_total:
            facture_qty: 
            facture_total:
                
    clientMonth: 
        extends: default
        list_filters:
            type: 
                name: mode
                filter: month
    clientYear:
        extends: default
        list_filters:
            type: 
                name: mode
                filter: year
                