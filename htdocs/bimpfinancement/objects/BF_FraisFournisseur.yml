table: bf_frais_fournisseur
parent_object: BF_Demande
parent_id_property: id_demande

labels:
    name: facture fournisseur
    name_plur: factures fournisseurs
    is_female: 1
    
objects:
    supplier:
        relation: hasOne
        delete: 0
        instance:
            dol_object: societe
            id_object: 
                field_value: id_soc_supplier
        
                
fields: 
    id_demande: 
        label: Demande
        type: id_parent
        input: 
            type: hidden
        
    date: 
        label: Date
        type: date
        required: 1
        sortable: 1

    id_soc_supplier:
        label: Société fournisseur
        type: id_object
        default_value: 0
        required: 0
        object: supplier
        input: 
            type: search_societe
            help: Entrez le nom ou la référence pour rechercher un fournisseur enregistré
        display: 
            nom_url: 
                type: nom_url
            card: 
                type: card
                card: societe_card
        sortable: 1
    
    supplier_name:
        label: Nom fournisseur
        type: string
        required: 0
        input:
            type: text
            help: Utilisez ce champ si le fournisseur n'est pas enregistré
            display_if:
                input_name: id_soc_supplier
                show_values: 
                    array: 0,
        sortable: 1
    
    description:
        label: Libellé
        type: string
        required: 1
        sortable: 1
        
    amount:
        label: Montant HT
        type: float
        input: 
            type: text
            addon_right: 
                icon: euro
        display:
            type: syntaxe
            syntaxe: <value> &euro;
        required: 1
        sortable: 1
        
    
        
list:
    checkboxes: 1
    title: Factures fournisseurs
    icon: vcard
    bulk_actions: 
        - label: Supprimer les lignes sélectionnées
          icon: trash
          onclick: deleteSelectedObjects('list_id', $(this));
          btn_class: deleteSelectedObjects
    sort_col: date_create
    sort_way: desc
    n: 25
    cols:
        date: 
            field: date
        supplier:
            label: Fournisseur
            value:
                callback: 
                    method: displaySupplier
                    params: 
                        - nom_url
        description:
            field: description
        amount: 
            field: amount
            
    add_btn: 1
    edit_btn: 1
    delete_btn: 1