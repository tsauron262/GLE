table: be_user_account
common_fields: 0

labels: 
    name: compte utilisateur
    name_plur: comptes utilisateurs
    
objects: 
    client: 
        instance: 
            bimp_object: unset
            dol_object: societe
        card:
            type: societe_card
            
    client_contact: 
        extends: contact
        instance: 
            bimp_object: unset
            dol_object: contact
            id_object: 
                field_value: id_client_contact
        card: 
            type: contact_card
            
fields:
    name: 
        label: Nom
        required: 1
        
    id_client: 
        label: Client
        type: id_object
        object: client
        input: 
            type: search_societe
            societe_type: customer
        display: 
            default:
                type: nom_url
            
    id_client_contact:
        label: Contact
        type: id_object
        object: client_contact
        values: 
            array: client_contacts
        display: 
            default:
                type: nom_url
        display_if:
            field_name: id_client
            hide_values: 0,
        depends_on: id_client
        
    login: 
        label: Identifiant
        required: 1
        
    pword: 
        label: Mot de passe
        required: 1
        
    
        
lists: 
    default: 
        checkboxes: 1
        bulk_actions: 
            - label: Supprimer les équipements sélectionnés
              icon: fas_trash-alt
              onclick: deleteSelectedObjects('list_id', $(this));
              btn_class: deleteSelectedObjects
        title: Comptes utilisateurs
        icon: users
        add_form_name: default
        delete_btn: 1
        update_btn: 1
        edit_btn: 1
        sort_field: id
        sort_way: desc
        cols: 
            name: 
                field: name
                edit: 1
            client: 
                field: id_client
            login: 
                field: login
                edit: 1
            pword: 
                field: pword
                edit: 1
                
cards:
    default: 
        fields:
            - field: login
            - field: pword
            - field: id_client
            - field: id_client_contact
            
    light: 
        fields: 
            - field: id_client
              display: nom
            - field: id_client_contact
              display: nom