dol_object: 
    instance: 
        dol_object: commande
            
table: commande
primary: rowid

labels: 
    name: commande
    is_female: 1
        
objects: 
    order_lines: 
        relation: hasMany
        delete: 1
        instance: 
            bimp_object: 
                module: bimpreservation
                name: BR_OrderLine
                
    products: 
        relation: hasMany
        delete: 0
        instance: 
            bimp_object: 
                module: bimpreservation
                name: BR_OrderLine
        list: 
            title: Produits
            filters: 
                type: 1
    
    services: 
        relation: hasMany
        delete: 0
        instance: 
            bimp_object: 
                module: bimpreservation
                name: BR_OrderLine
        list: 
            title: Services
            filters: 
                type: 2
                
    facture: 
        instance: 
            bimp_object: 
                module: bimpcore
                name: Bimp_Facture
            id_object: 
                field_value: id_facture
                
    shipments: 
        relation: hasMany
        delete: 0
        instance: 
            bimp_object: 
                module: bimpreservation
                name: BR_CommandeShipment
                
associations: 
    avoirs: 
        object: facture
        label: Avoirs
        display: 
            default: 
                type: nom_url
                
fields: 
    id_facture: 
        label: Facture
        type: id_object
        object: facture
        default_value: 0
        
forms: 
    remove_lines: 
        title: Retirer des produits / services
        rows: 
            - object: order_lines
              label: Produits / Services
              form_name: remove
              multiple: 1
              on_edit: 1
              
    facture:
        title: Créer une facture à partir des produits non facturés de cette commande
        rows: 
            - custom: 1
              label: Conditions de réglement
              input_name: cond_reglement
              value: 
                  callback: getCommandeCondReglement
              input: 
                  type: select_cond_reglement
                  
    add_line: 
        title: Ajouter un produit / service
        rows: 
            - custom: 1
              label: Produit / Service
              data_type: id_object
              input_name: id_product
              input: 
                  type: search_product
              required: 1
            - custom: 1
              label: Quantité
              input_name: qty
              data_type: int
              input: 
                  type: qty
              value: 1
              min: 1
            - custom: 1
              label: Réduction
              input_name: reduc
              data_type: percent
              input: 
                  type: text
#            - custom: 1
#              label: Prix de revient
#              input_name: pr_type
#              input: 
#                  type: select
#                  options:
            - custom: 1
              label: Description
              input_name: desc
              data_type: html
              input: 
                  type: html
            - custom: 1
              label: Service à durée limitée
              input_name: limited
              data_type: bool
              input: 
                  type: toggle
              value: 0
            - custom: 1
              label: Du
              input_name: date_start
              data_type: date
              input: 
                  type: date
              display_if: 
                  field_name: limited
                  show_values: 1
            - custom: 1
              label: Au
              input_name: date_end
              data_type: date
              input: 
                  type: date
              display_if: 
                  field_name: limited
                  show_values: 1  
                      
                      
                