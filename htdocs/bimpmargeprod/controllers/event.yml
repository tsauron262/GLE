bootstrap: 1
pdf: 1

objects:
    event: 
        instance: 
            bimp_object: BMP_Event
            id_object: 
                request: id
                
    calc_auto:
        instance: 
            bimp_object: BMP_CalcMontant
            
sections:
    - type: tabs
      tabs:
          default:
              label: Infos
              url_params:
                  id: 
                      request: id
              sections: 
                  - type: object_header
                    object_header: 
                        object: event
                  - type: view
                    view: 
                        panel: 1
                        name: default
                        object: event
#          parts:
#              label: Parts Partenaires
#              show:
#                  callback: 
#                      method: showCoprods
#                      object: event
#                      params: 
#                          - test
#              url_params:
#                  id: 
#                      request: id
#              sections: 
#                  - type: object_header
#                    object_header: 
#                        object: event
#                  - type: list
#                    list: 
#                        panel: 1
#                        name: default
#                        object: event
#                        children: coprod_def_parts
          frais: 
              label: Charges
              url_params:
                  id: 
                      request: id
              sections:
                  - type: object_header
                    object_header: 
                        object: event
                  - type: nav_tabs
                    nav_tabs: 
                        - id: list
                          title: Liste
                          struct: 
                              type: list
                              list: 
                                  panel: 1
                                  name: frais
                                  object: event
                                  children: frais
                        - id: frais_recap
                          title: Récapitulatif
                          struct: 
                              type: view
                              view: 
                                  name: frais_recap
                                  object: event                        
#                  - type: view
#                    view: 
#                        panel: 1
#                        name: totaux
#                        object: event
          hotel:
              label: Frais hôtellerie
              url_params:
                  id: 
                      request: id
              sections: 
                  - type: object_header
                    object_header: 
                        object: event
                  - type: view
                    view:
                        panel: 0
                        name: frais_hotel
                        object: event
                        
          recettes:
              label: Recettes
              url_params:
                  id: 
                      request: id
              sections: 
                  - type: object_header
                    object_header: 
                        object: event
                  - type: nav_tabs
                    nav_tabs: 
                        - id: list
                          title: Liste
                          struct: 
                            type: list
                            list: 
                                panel: 1
                                name: recettes
                                object: event
                                children: recettes
                        - id: recettes_recap
                          title: Récapitulatif
                          struct: 
                              type: view
                              view: 
                                  name: recettes_recap
                                  object: event              
#                  - type: view
#                    view: 
#                        panel: 1
#                        name: totaux
#                        object: event
          bar: 
              label: Bar
              url_params:
                  id: 
                      request: id
              sections: 
                  - type: object_header
                    object_header: 
                        object: event
                  - type: list
                    list: 
                        panel: 1
                        name: recettes_bar
                        object: event
                        children: recettes_bar
          billets:
              label: Billetterie
              url_params: 
                  id: 
                      request: id
              sections: 
                  - type: object_header
                    object_header: 
                        object: event
                  - type: nav_tabs
                    nav_tabs: 
                        - id: ventes
                          title: Ventes de billets
                          struct: 
                              type: rows
                              rows: 
                                  - cols:  
                                      - type: view
                                        view: 
                                            object: event
                                            name: total_billets
                                            panel: 1
                                      - type: list
                                        list: 
                                            object: event
                                            children: billets
                        - id: tarifs
                          title: Tarifs
                          struct: 
                              type: view
                              view: 
                                  object: event
                                  name: tarifs
                        - id: break
                          title: Indicateurs
                          struct: 
                              type: view
                              view: 
                                  panel: 1
                                  name: breaks
                                  object: event
                        
          bilans: 
              label: Bilans
              url_params: 
                  id: 
                      request: id
              sections: 
                  - type: object_header
                    object_header: 
                        object: event
                  - type: view
                    view: 
                        panel: 0
                        name: bilans
                        object: event
        
          calcauto: 
              label: Calculs auto
              url_params: 
                  id: 
                      request: id
              sections: 
                  - type: object_header
                    object_header: 
                        object: event
                  - type: list
                    list: 
                        name: default
                        panel: 1
                        object: event
                        children: calcs_montants
                      
    - type: buttons
      buttons:
          - label: Liste des événements
            url:
                controller: index
            icon_before: chevron-left
            classes: 
                array: btn,btn-primary