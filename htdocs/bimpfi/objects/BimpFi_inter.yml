bootstrap: 1
table: fichinterdet
primary: rowid
parent_module: bimpfi
parent_id_property: fk_fichinter
parent_object: BimpFi_fiche
dol_object: 
    instance: 
        dol_object: 
            module: fichinter
            file: fichinter
            class: FichinterLigne
labels:
    name: Intervention
    name_plur: Interventions
    is_female: 1
objects:
    fichinter:
        instance:
            bimp_object: BimpFi_fiche
            id_object:
                field_value: fk_fichinter
    lineCommande:
        instance:
            bimp_object:
                module: bimpcommercial
                name: Bimp_CommandeLine
            id_object:
                field_value: id_line_commande
    lineContrat:
        instance:
            bimp_object:
                module: bimpcontract
                name: BContract_contratLine
            id_object:
                field_value: id_line_contrat

fields:
    fk_fichinter:
        label: Fiche d'intervention
        type: id_object
        object: fichinter
    fk_parent_line:
        label: Intervention
        type: int
    date:
        label: Date de l'intervention
        type: datetime
        dol_prop: datei
    description:
        label: Description de l'intervention
        type: html
        dol_prop: desc
    duree:
        label: Durée plannifiée de l'intervention
        type: double
        dol_prop: duration
    rang:
        label: Intervention numéro
        type: int
    id_line_commande:
        label: Ligne de la commande
        type: id_object
        object: lineCommande
    id_line_contrat:
        label: Ligne du contrat
        type: id_object
        object: lineContrat
    type:
        label: Type du pointage
        type: int
        values:
            array: type_pointage
    statut:
        label: Statut
        type: int
        values:
            array: statut_list
    techs:
        label: Intervenants
        type: text

lists:
    default:
        panel: 1
        title: Listes des interventions de la FI
        sort_field: rowid
#        extra_btn:
#            callback: getListExtraButtons
        cols:
            description:
                field: description
                label: Référence de l'intervention
            statut:
                field: statut
            intervenants:
                label: Intervenants
                value:
                    callback:
                        method: displayTechsArray
                        params:
                            - true
                            - true

fields_tables:
    infos:
        panel: 0
        rows:
            - label: Intervenants
              value:
                  callback: displayTechsArray