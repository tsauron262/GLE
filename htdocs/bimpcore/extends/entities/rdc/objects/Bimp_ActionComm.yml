forms:
    default:
        rows:
            fk_motif_echange:
                field: fk_motif_echange
                display_if:
                    field_name: fk_action
                    show_values:
                        callback: getIdsAfficheEchange
            action_echange:
                field: action_echange
                display_if:
                    field_name: fk_action
                    show_values: 
                        callback: getIdsAfficheEchange
            point_positif_echange:
                field: point_positif_echange
                display_if:
                    field_name: fk_action
                    show_values:
                        callback: getIdsAfficheEchange
            risque_identifie_echange:
                field: risque_identifie_echange
                display_if:
                    field_name: fk_action
                    show_values: 
                        callback: getIdsAfficheEchange            
                
            link: unset
            users_assigned:
                input:
                    help: unset
            fk_project: unset    
            
    formCREchange:
        rows:
            from:
                field: datep
                required: 1
            label:
                field: label
                required: 1
            users_assigned:
                custom: 1
                label: Evénement assigné à
                input_name: users_assigned
                input:
                    multiple: 1
                    sortable: 1
                    type: search_user
                    help:
                        callback: displayExternalUsers
                value:
                    callback: getUsersAssigned
            type:
                field: fk_action
                required: 1
            fk_motif_echange:
                field: fk_motif_echange
                required: 1
            societe:
                field: fk_soc
                show: 0
            contacts_assigned:
                custom: 1
                label: Contact(s) tiers
                input_name: contacts_assigned
                input:
                    type: select
                    multiple: 1
                    options:
                        callback:
                            method: getSocieteContactsArray
                            params:
                                - field_value: fk_soc
                                - 1
                                - ''
                                - 1
                depends_on: fk_soc
                display_if:
                    field_name: fk_soc
                    hide_values: 0,
                value:
                    callback: getContactsAssigned
            


fields:
    label:
        label: Sujet
    fk_action:
        label: Type d'échange
    note:
        label: Commentaire
    fk_motif_echange:
        label: Motif de l'échange
        values:
            callback: getMotifEchange
    action_echange:
        label: Action
        type: text
    point_positif_echange:
        label: Point positif
        type: text
    risque_identifie_echange:
        label: Risque identifié
        type: text
            

fields_tables:
    infos:
        title: Infos
        icon: fas_info-circle
        rows:
            -   field: fk_user_author
                display: nom_url
            -   field: fk_user_action
                display: nom_url
            -   label: Assigné à
                value:
                    callback: displayUsersAssigned
            -   field: label
            -   field: fk_action
            -   field: datep
            -   field: datep2
            -   field: note
            -   field: fk_motif_echange
                show:
                    callback:
                        method: getAfficheEchange
            -   field: action_echange
                show:
                    callback:
                        method: getAfficheEchange
            -   field: point_positif_echange
                show:
                    callback:
                        method: getAfficheEchange
            -   field: risque_identifie_echange
                show:
                    callback: 
                        method: getAfficheEchange
            - code: unset
            - percent: unset
