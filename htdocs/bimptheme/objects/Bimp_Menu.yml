table: menu
primary: rowid
controller: propal
icon: fas_bars
common_fields: 0
positions: 1
position_insert: after

entity_name: menu

labels: 
    name: ligne de menu
    name_plur: lignes de menu
    is_female: 1
    
fields: 
    menu_handler: 
        label: handler
        default_value: bimptheme
        
    titre: 
        label: Titre
        required: 1
        
    code_path: 
        label: Chemins codes
        required: 1
            
    fk_menu: 
        label: Ligne parente
        type: id
        default_value: -1
        
    position: 
        label: Position
        type: int
        
    url: 
        label: URL
        
    perms:
        label: Permissions
        
    enabled: 
        label: Conditions d'activation
        
    active: 
        label: Actif
        type: bool
        default_value: 1
        
    bimp_icon: 
        label: Icône FontAwesome 5
        
    bimp_module: 
        label: Module BIMP
        
    bimp_object: 
        label: BimpObject lié
        
    allowed_users: 
        label: Utilisateurs autorisés
        type: items_list
        items_data_type: id_object
        items_braces: 1
        object: user
        
    synchronised:
        label: Synchronisé
        type: bool
        default_value: 1
        input:
            help: Si Oui, sera inclus dans le fichier de la version complète du menu.
forms:
    add_sub_item: 
        rows: 
            - custom: 1
              label: Titre
              input_name: titre
              input: 
                  type: text
              require: 1
            - custom: 1
              label: Code
              input_name: code
              required: 1
              input: 
                  type: text
            - custom: 1
              label: URL
              input_name: url
              input: 
                  type: text
            - custom: 1
              label: Icône FontAwesome 5
              input_name: bimp_icon
              input: 
                  type: text
            - custom: 1
              label: Permissions
              input_name: perms
              input: 
                  type: text
            - custom: 1
              label: Conditions d'activation
              input_name: enabled
              input: 
                  type: text
            - custom: 1
              label: BimpObject lié
              input_name: bimp_object
              input: 
                  type: text
            - custom: 1
              label: Actif
              input_name: active
              data_type: bool
              input: 
                  type: toggle
              value: 1
            -   custom: 1
                label: Actif
                input_name: synchronised
                data_type: bool
                input:
                    type: toggle
                value: 1
            
    default: 
        rows: 
            - field: titre
            - field: code_path
            - field: url
            - field: perms
            - field: enabled
            - field: bimp_icon
            - field: bimp_object
            - field: active
            - field: synchronised
            
lists: 
    default: 
        configurable: 1
        checkboxes: 1
        positions: 1
        bulk_actions:
            - label: supprimer les lignes de menu sélectionnées
              icon: fas_trash-alt
              onclick: deleteSelectedObjects('list_id', $(this))
            - label: Générer Syntaxe SQL INSERT
              icon: fas_code
              onclick: setSelectedObjectsAction($(this), 'list_id', 'generateSqlFile', {}, null, null, true)
            - label: Vérifier les codes chemins
              icon: fas_search
              onclick: setSelectedObjectsAction($(this), 'list_id', 'checkCodePathes', {}, null, null, true)
        list_filters: 
            - name: menu_handler
              filter: bimptheme
        header_buttons: 
            callback: getListsHeaderButtons
        sort_field: position
        sort_way: asc
        n: 30
        edit_btn: 1
        edit_form: default
        delete_btn: 1
        extra_btn: 
            callback: getListExtraBtn
        cols:
            titre: 
                edit: 1
            code_path: 
                edit: 1
            url: 
                edit: 1
            bimp_module: 
                edit: 1
            bimp_object: 
                edit: 1
            bimp_icon: 
                edit: 1
            perms: 
                edit: 1
            enabled: 
                edit: 1
            active: 
                edit: 1
            synchronised:
                edit: 1
            
            
             
    

        
    
