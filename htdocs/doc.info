

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `llx_fichinter` AS (select `llx_Synopsis_fichinter`.`rowid` AS `rowid`,`llx_Synopsis_fichinter`.`fk_soc` AS `fk_soc`,`llx_Synopsis_fichinter`.`fk_projet` AS `fk_projet`,`llx_Synopsis_fichinter`.`fk_contrat` AS `fk_contrat`,`llx_Synopsis_fichinter`.`ref` AS `ref`,1 AS `entity`,`llx_Synopsis_fichinter`.`tms` AS `tms`,`llx_Synopsis_fichinter`.`datec` AS `datec`,`llx_Synopsis_fichinter`.`date_valid` AS `date_valid`,`llx_Synopsis_fichinter`.`datei` AS `datei`,`llx_Synopsis_fichinter`.`fk_user_author` AS `fk_user_author`,`llx_Synopsis_fichinter`.`fk_user_valid` AS `fk_user_valid`,`llx_Synopsis_fichinter`.`fk_statut` AS `fk_statut`,`llx_Synopsis_fichinter`.`duree` AS `duree`,`llx_Synopsis_fichinter`.`description` AS `description`,`llx_Synopsis_fichinter`.`note_private` AS `note_private`,`llx_Synopsis_fichinter`.`note_public` AS `note_public`,`llx_Synopsis_fichinter`.`model_pdf` AS `model_pdf`,'' AS `extraparams` from `llx_Synopsis_fichinter` where 1);


BIMP
INSERT INTO  `synopsis_bimp`.`llx_document_model` (
`rowid` ,
`nom` ,
`entity` ,
`type` ,
`libelle` ,
`description`
)
VALUES (
NULL ,  'azur_annexe',  '1',  'propal', NULL , NULL
);



INSTALLATION SUR NEW VERSION DOLIBARR :{
    Renommer projet => 1projet
    renommer fichinter => 1fichinter
    renommer main.inc.php => 1main.inc.php
    renommer core/modules/ficheinter => 1fichinter


    Copier 
    Synopsis et babel dans
    -/
    -/admin
    -/core/modules/ (fichier + dossier)
    -/core/lib/ 

    --
    + Exception a copier egalement
    --

    /core/modules/moddemendeInterv.class.php
    /core/modules/contratGA
    /core/modules/contratGMAO
    /core/modules/demendeInterv
    /core/modules/fichinter *

    /core/lib/demandeInterv.lib.php
    /core/lib/task.class.php //Louche pas de class ici normalement

    /fichinter *
    /projet *

    * Remplacemnt des fichier d'origine X3




 //Refactoring coeur
require\([a-zA-z0-9/."'_-]*.class.php   Pour rajouter _once
}


Parametrage :
    - conf/conf.php
    - Synopsis_Hrm/orange/lib/confs/Conf.php (Pour gestion ressources humaine)
Zimbra
    - dans le compte admin tous les contacte a partager avec qui on veut
    - chaque utilisateur responsable de ressource peut partager le calandrier de la ressource (dans l'avenir l'admin aussi)




MODIFICATION DU COEUR {
    - main.inc.php (Pour ajouter les hook synopsis + modif du path)
    - societe | societe.class.php (aj de $option = "customer"; ln 1244 pour arriver directement dans l'onglet client ou prospect)
    - propal | capsim : ajout du chrono dans la fiche propal
    - proopal | capsim : pas de ref brouillon propal.class
}




Creation des vue pour install 2 avec base client commune : {
    CREATE VIEW gle2_societe_address as SELECT * FROM gle1_societe_address;
    CREATE VIEW gle2_societe as SELECT * FROM gle1_societe;
    CREATE VIEW gle2_societe_commerciaux as SELECT * FROM gle1_societe_commerciaux;
    CREATE VIEW gle2_societe_extrafields as SELECT * FROM gle1_societe_extrafields;
    CREATE VIEW gle2_societe_log as SELECT * FROM gle1_societe_log;
    CREATE VIEW gle2_societe_prices as SELECT * FROM gle1_societe_prices;
    CREATE VIEW gle2_societe_remise as SELECT * FROM gle1_societe_remise;
    CREATE VIEW gle2_societe_remise_except as SELECT * FROM gle1_societe_remise_except;
    CREATE VIEW gle2_societe_rib as SELECT * FROM gle1_societe_rib;
}






