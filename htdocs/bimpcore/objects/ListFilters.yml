table: bimpcore_list_filters
common_fields: 0

labels: 
    name: enregistrement de filtres
    name_plur: enregistrements de filtres
    
objects: 
    user_create: 
        extends: user
        instance: 
            id_object: 
                field_value: id_user_create            
    
fields: 
    obj_module: 
        label: Module
        required: 1
        input:
            type: hidden
        
    obj_name: 
        label: Objet
        required: 1
        input:
            type: hidden
        
    panel_name: 
        label: Nom du panel
        required: 1
        input:
            type: hidden
        
    name: 
        label: Nom
        required: 1
        
    owner_type: 
        label: Type objet propriétaire
        values: 
            1: Groupe
            2: Utilisateur
        default_value: 2
        
    id_owner: 
        label: Propriétaire
        type: int
        required: 1
        
    filters: 
        label: filtres
        type: json
        input: 
            type: hidden
            
    excluded: 
        label: Valeurs exclus
        type: json
        input: 
            type: hidden
            
    id_user_create: 
        label: Créé par
        type: id_object
        object: user_create
        default_value: 0
        
forms: 
    default: 
        rows: 
            - custom: 1
              hidden: 1
              label: ID Filtres,
              input_name: filters_id
              input: 
                  type: hidden
            - field: obj_module
            - field: obj_name
            - field: panel_name
            - field: filters
            - field: name
            - field: owner_type
            - custom: 1
              input_name: filters_group
              label: Groupe
              data_type: id
              content: 
                  callback: renderGroupInput
              display_if:
                field_name: owner_type
                show_values: 1
            
    edit: 
        rows: 
            - field: name
            - field: owner_type
            - custom: 1
              label: Groupe
              data_type: id
              content: 
                  callback: renderGroupInput
              display_if:
                field_name: owner_type
                show_values: 1
                
    share: 
        rows: 
            - custom: 1
              label: Utilisateurs
              data_type: items_list
              items_data_type: id
              content: 
                  callback: renderShareUsersInput
            - custom: 1
              label: Groupes
              data_type: items_list
              items_data_type: id
              content: 
                  callback: renderShareGroupsInput
                  
lists: 
    default: 
        title: 
            callback: getListTitle
        configurable: 0
        checkboxes: 1
        enable_search: 0
        enable_sort: 0
        bulk_actions:
            - label: supprimer les filtres enregistrés sélectionnés
              icon: fas_trash-alt
              onclick: deleteSelectedObjects('list_id', $(this))
        extra_btn: 
            callback: getListExtraButtons
        sort_field: id
        sort_way: asc
        n: 0
        edit_btn: 1
        edit_form: edit
        delete_btn: 1
        cols: 
            name:
                field: name
            owner: 
                label: Propriétaire
                value: 
                    callback: displayOwner